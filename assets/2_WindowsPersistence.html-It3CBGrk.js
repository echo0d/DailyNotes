import{_ as t}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as a,b as s,o}from"./app-ClR9AqGF.js";const n={};function r(i,e){return o(),a("div",null,[...e[0]||(e[0]=[s(`<h1 id="_2-windows权限维持" tabindex="-1"><a class="header-anchor" href="#_2-windows权限维持"><span>2. Windows权限维持</span></a></h1><h3 id="权限维持-sc-create-服务" tabindex="-1"><a class="header-anchor" href="#权限维持-sc-create-服务"><span>权限维持--sc create 服务</span></a></h3><p>有些程序由于代码格式的原因，无法注册为服务，在某些版本的windows上（win10试过不可以）可以尝试一下</p><pre><code class="language-shell">sc Create 服务名称 <span class="token assign-left variable">binPath</span><span class="token operator">=</span> <span class="token string">&quot;cmd /c start 路径&quot;</span> <span class="token assign-left variable">type</span><span class="token operator">=</span> own <span class="token assign-left variable">type</span><span class="token operator">=</span> interact <span class="token assign-left variable">start</span><span class="token operator">=</span> auto
sc Create 服务名称 <span class="token assign-left variable">binPath</span><span class="token operator">=</span> <span class="token string">&quot;Rundll32.exe DLL路径 执行函数 参数&quot;</span> <span class="token assign-left variable">type</span><span class="token operator">=</span> own <span class="token assign-left variable">type</span><span class="token operator">=</span> interact <span class="token assign-left variable">start</span><span class="token operator">=</span> auto
</code></pre><h3 id="后台运行-waitfor-命令" tabindex="-1"><a class="header-anchor" href="#后台运行-waitfor-命令"><span>后台运行 waitfor 命令</span></a></h3><p>waitfor 命令是 Windows 系统中的一个命令行工具，用于等待指定的时间或等待特定事件发生。然而，<code>waitfor</code> 命令本身并不支持后台运行，它会阻塞当前命令行窗口，直到满足指定的条件。 使用启动器（Wrapper）脚本： 创建一个批处理脚本（例如 <code>waitfor_background.bat</code>），在其中调用 <code>waitfor</code> 命令，然后使用 <code>start</code> 命令来在后台运行该脚本。示例：</p><pre><code class="language-bat">@echo off
start &quot;&quot; cmd /c waitfor 某个条件

</code></pre><p>这将在新窗口中启动命令行并在后台运行 <code>waitfor</code> 命令。</p>`,8)])])}const l=t(n,[["render",r]]),d=JSON.parse('{"path":"/CyberSecurity/RedTeam/3-Persistence/2_WindowsPersistence.html","title":"2. Windows权限维持","lang":"zh-CN","frontmatter":{"article":false,"tags":["持久化"],"description":"2. Windows权限维持 权限维持--sc create 服务 有些程序由于代码格式的原因，无法注册为服务，在某些版本的windows上（win10试过不可以）可以尝试一下 后台运行 waitfor 命令 waitfor 命令是 Windows 系统中的一个命令行工具，用于等待指定的时间或等待特定事件发生。然而，waitfor 命令本身并不支持后台...","head":[["meta",{"property":"og:url","content":"https://echo0d.github.io/DailyNotes/CyberSecurity/RedTeam/3-Persistence/2_WindowsPersistence.html"}],["meta",{"property":"og:site_name","content":"echo0d-notes"}],["meta",{"property":"og:title","content":"2. Windows权限维持"}],["meta",{"property":"og:description","content":"2. Windows权限维持 权限维持--sc create 服务 有些程序由于代码格式的原因，无法注册为服务，在某些版本的windows上（win10试过不可以）可以尝试一下 后台运行 waitfor 命令 waitfor 命令是 Windows 系统中的一个命令行工具，用于等待指定的时间或等待特定事件发生。然而，waitfor 命令本身并不支持后台..."}],["meta",{"property":"og:type","content":"website"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-01-24T06:30:37.000Z"}],["meta",{"property":"article:author","content":"echo0d"}],["meta",{"property":"article:tag","content":"持久化"}],["meta",{"property":"article:modified_time","content":"2025-01-24T06:30:37.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"WebPage\\",\\"name\\":\\"2. Windows权限维持\\",\\"description\\":\\"2. Windows权限维持 权限维持--sc create 服务 有些程序由于代码格式的原因，无法注册为服务，在某些版本的windows上（win10试过不可以）可以尝试一下 后台运行 waitfor 命令 waitfor 命令是 Windows 系统中的一个命令行工具，用于等待指定的时间或等待特定事件发生。然而，waitfor 命令本身并不支持后台...\\"}"]]},"headers":[{"level":3,"title":"权限维持--sc create 服务","slug":"权限维持-sc-create-服务","link":"#权限维持-sc-create-服务","children":[]},{"level":3,"title":"后台运行 waitfor 命令","slug":"后台运行-waitfor-命令","link":"#后台运行-waitfor-命令","children":[]}],"git":{"createdTime":1731665131000,"updatedTime":1737700237000,"contributors":[{"name":"echo0d","email":"echo0d@163.com","commits":4}]},"readingTime":{"minutes":0.85,"words":256},"filePathRelative":"CyberSecurity/RedTeam/3-Persistence/2_WindowsPersistence.md","localizedDate":"2024年11月15日","excerpt":"","autoDesc":true}');export{l as comp,d as data};
