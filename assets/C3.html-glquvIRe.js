import{_ as i}from"./plugin-vue_export-helper-x3n3nnut.js";import{o as a,c as e,e as t}from"./app-Tto4u9UZ.js";const o="/DailyNotes/assets/image-20230925092449871-mH-o03u2.png",g="/DailyNotes/assets/image-20230925093751070-lXivdYvh.png",n="/DailyNotes/assets/image-20230925093858552-ryF0vpVR.png",s="/DailyNotes/assets/image-20230925093953085-GRK3xwsI.png",r="/DailyNotes/assets/image-20230925100656583-J4TH0TW6.png",l="/DailyNotes/assets/image-20230925102043715-P4vHc054.png",c="/DailyNotes/assets/image-20230925102003634-ngXMrhhd.png",m="/DailyNotes/assets/image-20230925102309309-q-AETElI.png",p="/DailyNotes/assets/image-20230925155816200-H_6xgoTX.png",d="/DailyNotes/assets/image-20230925155847951-imEtMplZ.png",f={},u=t('<h1 id="c3-custom-command-and-control-使用" tabindex="-1"><a class="header-anchor" href="#c3-custom-command-and-control-使用" aria-hidden="true">#</a> C3（Custom Command and Control）使用</h1><p>翻译了官网对一些术语的定义：</p><ul><li>Relays（中继） – 在受感染的主机上启动的可执行文件。中继通过接口在彼此之间或返回到网关进行通信。</li><li>Gateway（网关） – 一种控制一个 C3 网络的特殊继电器。如果没有可运行的网关，C3 网络就无法运行。网关是从中继返回攻击者基础设施的桥梁。网关还负责与第三方 C2 服务器（例如 Cobalt Strike 的 Teamserver）进行通信。</li><li>Channels（通道） - 中继之间传递数据的商定方案。例如 Slack 的 API。</li><li>Gateway Return Channel (网关返回通道 GRC) - 中继将用于将数据发送回网关的已配置通道。请注意，GRC 可能是经过另一个中继的路由。</li><li>Interfaces（接口）— 一个高级名称，指的是有助于在 C3 网络内发送和接收数据的任何事物。</li><li>Routes（路由） – 跨中继返回网关的预期通信路径。</li><li>Peripheral（外围设备） – 命令和控制框架的第三方植入。外设通过“控制器”与其本机控制器通信。例如，Cobalt Strike 的 SMB 信标。</li><li>Connector（连接器）– 与第三方命令和控制框架的集成。例如，Cobalt Strike 的 Teamserver 通过 externalc2_start 命令公开的“外部 C2”接口。</li></ul><p>网管配置：选择好后点击<code>创建和下载网关</code>，浏览器会去下载一个名为<code>Gateway_YourName</code>的压缩包</p><figure><img src="'+o+'" alt="image-20230925092449871" tabindex="0" loading="lazy"><figcaption>image-20230925092449871</figcaption></figure><p>解压后双击exe</p><figure><img src="'+g+'" alt="image-20230925093751070" tabindex="0" loading="lazy"><figcaption>image-20230925093751070</figcaption></figure><p>IP和端口可以再这里改</p><figure><img src="'+n+'" alt="image-20230925093858552" tabindex="0" loading="lazy"><figcaption>image-20230925093858552</figcaption></figure><p>网关就起来了</p><figure><img src="'+s+'" alt="image-20230925093953085" tabindex="0" loading="lazy"><figcaption>image-20230925093953085</figcaption></figure><figure><img src="'+r+'" alt="image-20230925100656583" tabindex="0" loading="lazy"><figcaption>image-20230925100656583</figcaption></figure><p><strong>连接CS的Teamserver</strong></p><p>双击网关的图标，选择“命令中心”按钮</p><figure><img src="'+l+'" alt="image-20230925102043715" tabindex="0" loading="lazy"><figcaption>image-20230925102043715</figcaption></figure><ul><li>在“选择命令”下拉列表中，选择一个命令，这里选择了<code>TurnOnConnectorTeamServer</code>，填写TeamServer的IP和端口</li></ul><figure><img src="'+c+'" alt="image-20230925102003634" tabindex="0" loading="lazy"><figcaption>image-20230925102003634</figcaption></figure><p>填写好后点<code>Send Command</code>，结果如下（若右侧的Auto Update没打开，需要刷新一下浏览器页面才可以看到）</p><figure><img src="'+m+'" alt="image-20230925102309309" tabindex="0" loading="lazy"><figcaption>image-20230925102309309</figcaption></figure><figure><img src="'+p+'" alt="image-20230925155816200" tabindex="0" loading="lazy"><figcaption>image-20230925155816200</figcaption></figure><figure><img src="'+d+'" alt="image-20230925155847951" tabindex="0" loading="lazy"><figcaption>image-20230925155847951</figcaption></figure>',21),_=[u];function y(C,x){return a(),e("div",null,_)}const N=i(f,[["render",y],["__file","C3.html.vue"]]);export{N as default};
