---
article: true
tags:
  - 持久化
  - 防御规避
---

# 进程注入


进程注入是一种在独立的活动进程的地址空间中执行任意代码的方法，在另一个进程的上下文中运行代码，会允许访问该进程的内存、系统资源、网络资源以及可能的特权提升。由于执行的代码由合法的程序代理执行，因此通过进程注入执行也可能会绕过部分安全产品的防病毒检测或进程白名单检测。

进程注入是一种广泛使用的躲避检测的技术，通常用于恶意软件或者无文件技术。其需要在另一个进程的地址空间内运行特制代码，进程注入改善了不可见性，同时一些技术也实现了持久性。大体上，进程注入可以分为两种形式：

- DLL注入
- Shellcode注入

这两种方式没有本质上的区别，在操作系统层面，dll也是shellcode汇编代码。为了开发方便，白帽子常常会将代码以dll的形式编译并传播，在实际注入的时候，由注入方或者被注入方调用loadlibrary加载。

本文的主题主要围绕各种进程注入技术进行原理讨论，并从防守方思考对应的检测和防御手段。

## 通过修改注册表实现注入和持久性


